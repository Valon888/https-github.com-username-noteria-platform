<!-- frontend.html - Shembull frontend për chatbot shumëgjuhësh -->
<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <title>Chatbot Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body {
            font-family: 'Montserrat', Arial, sans-serif;
            background: linear-gradient(135deg, #e0e7ff 0%, #f7fafd 100%);
            min-height: 100vh;
            margin: 0;
        }
        #chatbox {
            width: 100%;
            max-width: 420px;
            margin: 48px auto;
            background: rgba(255,255,255,0.65);
            border-radius: 22px;
            box-shadow: 0 8px 32px 0 rgba(31,38,135,0.18);
            -webkit-backdrop-filter: blur(8px);
            backdrop-filter: blur(8px);
            padding: 32px 28px 24px 28px;
            position: relative;
            animation: fadeInUp 1.2s cubic-bezier(.23,1.01,.32,1);
        }
        @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(60px);}
            100% { opacity: 1; transform: translateY(0);}
        }
        #chatbox .avatar {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, #b3c6ff 0%, #e0e7ff 100%);
            box-shadow: 0 2px 8px rgba(0,0,0,0.10);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 18px auto;
        }
        #chatbox .avatar i {
            font-size: 2.3rem;
            color: #0052cc;
        }
        #messages {
            min-height: 140px;
            margin-bottom: 22px;
            max-height: 320px;
            overflow-y: auto;
            padding-right: 2px;
        }
        .msg {
            margin: 10px 0;
            padding: 10px 18px;
            border-radius: 16px;
            max-width: 80%;
            word-break: break-word;
            font-size: 1.08rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.07);
            animation: fadeInMsg 0.7s cubic-bezier(.23,1.01,.32,1);
        }
        @keyframes fadeInMsg {
            0% { opacity: 0; transform: scale(0.95);}
            100% { opacity: 1; transform: scale(1);}
        }
        .bot {
            background: linear-gradient(90deg, #e0e7ff 0%, #b3c6ff 100%);
            color: #0052cc;
            text-align: left;
            border-bottom-left-radius: 0;
            position: relative;
        }
        .bot:before {
            content: '\f4ad';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            color: #0052cc;
            margin-right: 8px;
            font-size: 1.1rem;
        }
        .user {
            background: linear-gradient(90deg, #007bff 0%, #b3c6ff 100%);
            color: #fff;
            text-align: right;
            margin-left: 20%;
            border-bottom-right-radius: 0;
        }
        form {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        label {
            font-weight: 600;
            color: #0052cc;
            margin-bottom: 2px;
        }
        select {
            padding: 8px 12px;
            border-radius: 8px;
            border: 1.5px solid #b3d4fc;
            font-size: 1.05rem;
            background: #f7fafd;
            color: #0052cc;
            font-weight: 600;
            transition: border 0.2s;
        }
        select:focus {
            border: 1.5px solid #007bff;
            outline: none;
        }
        input[type="text"] {
            padding: 10px 14px;
            border-radius: 8px;
            border: 1.5px solid #b3d4fc;
            font-size: 1.08rem;
            background: #fff;
            transition: border 0.2s;
        }
        input[type="text"]:focus {
            border: 1.5px solid #007bff;
            outline: none;
        }
        button {
            background: linear-gradient(90deg, #007bff 0%, #b3c6ff 100%);
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 10px 0;
            font-size: 1.13rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.07);
            transition: background 0.2s;
        }
        button:hover {
            background: linear-gradient(90deg, #0052cc 0%, #007bff 100%);
        }
        @media (max-width: 600px) {
            #chatbox { padding: 16px 4px; }
            .msg { font-size: 0.98rem; padding: 8px 10px; }
        }
    </style>
</head>
<body>
<div id="chatbox">
    <div class="avatar"><i class="fa-solid fa-robot"></i></div>
    <div id="messages"></div>
    <form id="form">
        <label for="lang">Zgjidh gjuhën:</label>
        <select id="lang" title="Zgjidh gjuhën">
            <option value="sq">Shqip</option>
            <option value="sr">Serbisht</option>
            <option value="en">Anglisht</option>
        </select>
        <input type="text" id="msg" placeholder="Shkruaj mesazhin..." required autocomplete="off">
        <button type="submit"><i class="fa-solid fa-paper-plane"></i> Dërgo</button>
    </form>
</div>
<script>
const form = document.getElementById('form');
const messages = document.getElementById('messages');
form.onsubmit = async function(e) {
    e.preventDefault();
    const msg = document.getElementById('msg').value;
    const lang = document.getElementById('lang').value;
    messages.innerHTML += `<div class='msg user'>${msg}</div>`;
    document.getElementById('msg').value = '';
    const res = await fetch('api.php', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: msg, lang })
    });
    const data = await res.json();
    messages.innerHTML += `<div class='msg bot'>${data.response}</div>`;
    messages.scrollTop = messages.scrollHeight;
};
</script>
</body>
</html>
